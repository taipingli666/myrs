$.fn.extend({checkbox:function(option){var _this=$(this);var $labelall=_this.find("label");var $label=_this.find("label.unit-box");var $checkall=_this.find(".check-all");var $box=_this.find("input[name='unit-box']");function labelclick(obj){if(obj.hasClass("checked")){obj.removeClass("checked");obj.siblings("input").prop("checked",false)}else{obj.addClass("checked");obj.siblings("input").prop("checked",true)}}$checkall.click(function(){labelclick($(this));if($(this).hasClass("checked")){$box.prop("checked",true);$labelall.addClass("checked")}else{$box.prop("checked",false);$labelall.removeClass("checked")}});$label.click(function(){labelclick($(this));var checkedl=_this.find("input[name='unit-box']:checked").length;var alll=_this.find("input[name='unit-box']").length;if(checkedl==alll){$checkall.addClass("checked");$checkall.siblings().prop("checked",true)}else{$checkall.removeClass("checked");$checkall.siblings().prop("checked",false)}})}});